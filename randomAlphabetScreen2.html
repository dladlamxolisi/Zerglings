<!DOCTYPE html>
<html>
<head>
  <title>Zergling Rush</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js"></script>
  <script src="/socket.io/socket.io.js"></script>
</head>
<body>
  <div class="container">
    <section id="gameControls">
      <h2 id="turnDisplay"></h2>
      <br>
      <section id="pickLetterScreen">
        <h2>PLAYER 2 Pick a Random Letter</h2>
        <div id="alphabetContainer"></div>
        <button id="stopButton" onclick="stopRandomAlphabet()">Stop</button>
        <h3 id="pickedLetterDisplay"></h3>
        <button id="rushButton" onclick="moveToQuestionScreen()">Rush!</button>
      </section>
    </section>
  </div>

  <script>
    // Start the random alphabet animation on page load
    window.onload = startRandomAlphabetAnimation;
  </script>

<script>
  const socket = io();

  // Get the code editor elements
  const editors = document.getElementsByClassName('playReg');

  // Add event listeners to each editor
  for (let i = 0; i < editors.length; i++) {
    const editor = editors[i];
    editor.addEventListener('input', (event) => {
      const code = event.target.value;
      socket.emit('code-change', code);
    });
  }

  // Receive code changes from the server
  socket.on('code-change', (code) => {
    for (let i = 0; i < editors.length; i++) {
      const editor = editors[i];
      if (editor !== document.activeElement) {
        editor.value = code;
      }
    }
  });
</script>
</body>
</html>
